# =============================================================================
# PCA Yield Curve Stress Testing - Environment Configuration
# =============================================================================
# Copy this file to .env and adjust the values for your deployment

# -----------------------------------------------------------------------------
# Application Mode
# -----------------------------------------------------------------------------

# Demo Mode: Use sample CSV data instead of ECB API
# Set to 'true' for local testing or when ECB API is not accessible
# Set to 'false' for production deployment with real ECB data
DEMO_MODE=false

# Flask Debug Mode: Enable detailed error messages and auto-reload
# IMPORTANT: Set to 'false' in production for security!
FLASK_DEBUG=false

# Flask Secret Key: Used for session encryption and security features
# IMPORTANT: Change this to a random string in production!
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY=your-secret-key-change-in-production

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------

# ECB API Request Timeout (seconds)
# How long to wait for ECB API responses before timing out
ECB_API_TIMEOUT=30

# ECB API Base URL
# Default: https://sdw-wsrest.ecb.europa.eu
ECB_API_BASE_URL=https://sdw-wsrest.ecb.europa.eu

# API Response Cache Timeout (seconds)
# How long to cache ECB API responses (0 = no caching)
# Recommended: 3600 (1 hour) for production to reduce API calls
CACHE_TIMEOUT=3600

# Cache Type: simple, redis, memcached
# For single-server deployment, use 'simple'
# For multi-server deployment, use 'redis' or 'memcached'
CACHE_TYPE=simple

# -----------------------------------------------------------------------------
# PCA Analysis Configuration
# -----------------------------------------------------------------------------

# Number of Principal Components to compute
# Default: 5 (PC1-PC5 covers level, slope, curvature, and higher-order effects)
N_COMPONENTS=5

# Stress Test Quantile
# Quantile for stress scenario generation (0.0 - 1.0)
# Default: 0.995 (99.5th percentile, commonly used in regulatory stress testing)
STRESS_QUANTILE=0.995

# Rolling Window Size (months)
# Window for rolling quantile calculation in stress testing
# Default: 24 months (2 years)
ROLLING_WINDOW_MONTHS=24

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------

# Log Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Use DEBUG for development, INFO for production
LOG_LEVEL=INFO

# Log Format
# Options: simple, detailed, json
# Use 'json' for log aggregation tools like ELK, Splunk
LOG_FORMAT=simple

# Log File Path (optional)
# Leave empty to log only to console
# Example: /var/log/pca_yield_curve/app.log
LOG_FILE=

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Server Host (for local development only)
# Passenger/production deployments ignore this
SERVER_HOST=0.0.0.0

# Server Port (for local development only)
# Passenger/production deployments ignore this
SERVER_PORT=5000

# Maximum Workers (for production WSGI server)
# Recommended: 2-4 Ã— number of CPU cores
MAX_WORKERS=4

# Request Timeout (seconds)
# Maximum time to process a single request
REQUEST_TIMEOUT=120

# -----------------------------------------------------------------------------
# Data Configuration
# -----------------------------------------------------------------------------

# Demo Data Path (when DEMO_MODE=true)
# Path to sample yield curve CSV file
DEMO_DATA_PATH=demo_data/sample_yield_curve.csv

# Data Date Range Limits
# Minimum and maximum allowed dates for analysis
MIN_DATE=2000-01-01
MAX_DATE=2099-12-31

# Minimum Date Range (days)
# Minimum number of days required for meaningful PCA analysis
MIN_DATE_RANGE_DAYS=30

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------

# CORS Allowed Origins (comma-separated)
# Leave empty to disable CORS, use * to allow all (not recommended)
# Example: https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOWED_ORIGINS=

# Rate Limiting (requests per minute per IP)
# 0 = disabled, recommended: 60 for production
RATE_LIMIT=60

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------

# Enable CSV/Excel Export
ENABLE_EXPORT=true

# Enable PDF Report Generation
ENABLE_PDF_EXPORT=false

# Enable Advanced Configuration UI
# Allows users to adjust stress quantile, PCs, rolling window via UI
ENABLE_ADVANCED_CONFIG=false

# -----------------------------------------------------------------------------
# Monitoring & Health Checks
# -----------------------------------------------------------------------------

# Health Check Endpoint Enabled
HEALTH_CHECK_ENABLED=true

# Include ECB API connectivity test in health check
# May slow down health checks, but provides better monitoring
HEALTH_CHECK_ECB_API=false

# -----------------------------------------------------------------------------
# Example Production Configuration
# -----------------------------------------------------------------------------
# For Netcup deployment, your .env might look like:
#
# DEMO_MODE=false
# FLASK_DEBUG=false
# FLASK_SECRET_KEY=<your-generated-secret-key>
# ECB_API_TIMEOUT=30
# CACHE_TIMEOUT=3600
# LOG_LEVEL=INFO
# LOG_FORMAT=simple
# N_COMPONENTS=5
# STRESS_QUANTILE=0.995
# ROLLING_WINDOW_MONTHS=24
# ENABLE_EXPORT=true
